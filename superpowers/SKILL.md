---
name: superpowers
description: |
  专业的软件开发工作流技能，包含TDD、调试、代码审查、计划执行等能力。
  基于obra/superpowers开源项目。
  使用场景：软件开发、代码审查、Bug修复、测试驱动开发、重构。
  触发关键词：开发、代码、编程、Bug、测试、TDD、重构、审查、计划。
---

# Superpowers - 专业开发工作流

本Skill提供专业的软件开发工作流能力，基于obra/superpowers开源项目。

## 核心能力

### 1. 测试驱动开发（TDD）

**适用场景**：新功能开发、需求明确的重构

**工作流程**：
1. **红**：编写失败的测试
2. **绿**：写最少代码让测试通过
3. **重构**：改进代码质量，保持测试通过

**使用方式**：
```
请用TDD方式实现[功能描述]
```

### 2. 调试模式

**适用场景**：Bug修复、问题排查、性能优化

**工作流程**：
1. **复现**：确认问题可复现
2. **定位**：分析日志和代码找到根因
3. **修复**：编写最小修改
4. **验证**：确认问题解决

**使用方式**：
```
帮我调试这个Bug：[Bug描述]
```

### 3. 代码审查

**适用场景**：代码提交前检查、PR审查

**审查维度**：
- ✅ 逻辑正确性
- ✅ 边界情况处理
- ✅ 性能考虑
- ✅ 安全漏洞
- ✅ 代码风格
- ✅ 测试覆盖

**使用方式**：
```
审查这段代码：[代码或文件]
```

### 4. 计划执行

**适用场景**：复杂任务分解、多步骤实现

**工作流程**：
1. **理解目标**：明确要达成什么
2. **任务分解**：拆分成可执行的小步骤
3. **优先级排序**：确定执行顺序
4. **分步执行**：按计划逐步实现
5. **验证确认**：每步验证再继续

**使用方式**：
```
帮我制定并执行[复杂任务]的计划
```

### 5. 重构

**适用场景**：代码优化、技术债务清理

**重构策略**：
- 小步重构，保持测试通过
- 每次只改一件事
- 重构前先写测试
- 验证后提交

**使用方式**：
```
重构这段代码，重点关注[可读性/性能/复杂度]
```

## 核心原则

### 小步提交

- 每次提交只做一件事
- 提交信息清晰描述做了什么
- 保持提交历史可追溯

### 测试优先

- 先写测试，再写代码
- 测试覆盖核心逻辑
- 边界情况和错误处理也要测试

### 持续验证

- 每步完成后立即验证
- 运行测试确保没有回归
- 小问题及时修复

### 文档同行

- 复杂逻辑加注释
- API使用写文档
- 重要决策记录原因

## 输出格式

### 任务执行输出

```
【Superpowers 任务执行】

任务：[任务描述]

执行计划：
1. [步骤1]
2. [步骤2]
3. [步骤3]

当前状态：[进行中/已完成]

执行详情：
- [步骤1]：完成
  - 修改文件：xxx
  - 测试结果：Pass

- [步骤2]：进行中
  ...

---

💡 提示
- [相关建议]
- [注意事项]
```

### 代码审查输出

```
【代码审查完成】

审查文件：[文件路径]

总体评价：[优秀/良好/需改进]

发现的问题：

🔴 严重（需立即修复）：
1. [问题1]
   - 位置：[行号]
   - 原因：[为什么是问题]
   - 建议：[如何修复]

🟡 建议优化：
1. [问题2]
   - 位置：[行号]
   - 建议：[优化建议]

🟢 做得好的地方：
1. [亮点1]
2. [亮点2]

---

审查耗时：XX分钟
测试覆盖率：XX%
```

## 与其他Skill配合

### 配合代码生成

当需要生成新代码时：

1. 先用 `superpowers` 做计划
2. 然后生成代码
3. 最后用 `superpowers` 做审查

### 配合文档生成

当需要写文档时：

1. 先用 `superpowers` 理解代码结构
2. 再生成文档
3. 最后用 `superpowers` 审查文档完整性

## 注意事项

1. **先理解后执行**：确保完全理解任务目标再开始
2. **小步快跑**：不要一次做太多，保持可验证
3. **保持沟通**：长时间任务定期汇报进度
4. **记录问题**：遇到阻塞记录下来，寻求帮助


## 🧠 记忆与自进化 (Memory & Self-Evolution)

**1. 读取记忆**：
在开始任务前，**必须**读取 `memory/preferences.md`。这里保存了用户的个性化偏好、禁忌和习惯。请根据这些偏好调整你的工作方式。

**2. 接收反馈**：
任务完成后，如果用户提供了反馈（修改意见、批评或表扬）：
- **分析**：识别这是单次指令还是长期偏好。
- **记录**：如果是长期偏好，请立即使用 File Edit 工具将规则追加/更新到 `memory/preferences.md` 中。
- **确认**：告诉用户"已将此偏好记入我的长期记忆"。

**记忆文件位置**：`@path/memory/preferences.md`
