---
name: image-generator
description: |
  AI图片生成与图床上传一条龙服务。
  使用场景：为文章生成配图、将图片上传到图床生成Markdown链接。
  触发关键词：配图、生成图片、上传图床、图片链接、cover_image。
---

# 图片配图与上传

本Skill提供从图片生成到图床上传的完整流程。

## 核心功能

1. **AI图片生成**：根据文章内容生成匹配的配图
2. **图床上传**：将图片上传到图床，返回Markdown链接
3. **批量处理**：支持一次生成多张配图

## 使用场景

### 场景1：为文章生成配图

当用户说"配图"、"生成图片"、"文章配图"时：

1. 分析文章主题和核心观点
2. 生成适合的AI图片提示词
3. 调用图片生成工具
4. 上传到图床
5. 返回Markdown格式的图片链接

### 场景2：生成封面图

当用户说"封面"、"cover"、"文章开头图片"时：

1. 提取文章标题和核心主题
2. 生成适合的封面图提示词
3. 生成封面图
4. 上传到图床
5. 返回适合的封面图片链接

### 场景3：批量配图

当用户说"生成5张配图"、"批量配图"时：

1. 分析文章结构，识别需要配图的位置
2. 为每个位置生成匹配的提示词
3. 批量生成图片
4. 批量上传图床
5. 返回所有Markdown链接

## 图片提示词设计原则

### 风格要求

- **公众号配图风格**：简洁、现代、有设计感
- **避免**：过于复杂、细节过多、文字内容
- **推荐**：抽象概念图、渐变色、几何图形、扁平插画

### 提示词结构

```
[主题描述] + [风格关键词] + [技术参数]

示例：
"AI助手概念的扁平插画，现代简约风格，蓝色渐变背景，
几何图形元素，高质量，适合公众号配图，16:9比例"
```

### 常用风格关键词

- 现代简约 / Modern Minimalist
- 扁平插画 / Flat Illustration
- 渐变色 / Gradient
- 几何图形 / Geometric
- 科技感 / Tech
- 商务风格 / Business
- 抽象概念 / Abstract

## 输出格式

配图完成后，输出：

```
【配图完成】

生成图片数：X张
图床链接格式：Markdown

![图片描述](图片URL)

---
### 批量配图清单

| 位置 | 描述 | 链接 |
|-----|------|-----|
| 封面 | [标题] | ![cover](URL) |
| 章节1 | [小标题] | ![](URL) |
| 章节2 | [小标题] | ![](URL) |
```

## 脚本使用

本Skill包含一个上传图片到图床的脚本：

```bash
python scripts/upload_image.py <图片路径>
```

脚本功能：
- 支持PNG、JPG格式
- 自动压缩图片
- 返回Markdown格式链接
- 支持批量上传

## 注意事项

1. **图片版权**：确保生成的图片用于合法用途
2. **图片大小**：建议控制在500KB以内
3. **图片比例**：公众号配图推荐16:9或4:3
4. **避免文字**：AI生成的图片中的文字可能不规范，尽量避免


## 🧠 记忆与自进化 (Memory & Self-Evolution)

**1. 读取记忆**：
在开始任务前，**必须**读取 `memory/preferences.md`。这里保存了用户的个性化偏好、禁忌和习惯。请根据这些偏好调整你的工作方式。

**2. 接收反馈**：
任务完成后，如果用户提供了反馈（修改意见、批评或表扬）：
- **分析**：识别这是单次指令还是长期偏好。
- **记录**：如果是长期偏好，请立即使用 File Edit 工具将规则追加/更新到 `memory/preferences.md` 中。
- **确认**：告诉用户"已将此偏好记入我的长期记忆"。

**记忆文件位置**：`@path/memory/preferences.md`
